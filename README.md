# fang_douyin
TikTok研发-国际化生活服务业务- 客户端作业：高仿抖音“经验”频道

实现包含：
  - 瀑布流布局：实现抖音经验页的双列瀑布流界面，支持动态高度适配
  - 经验卡片 UI 组件：包含图片、标题、用户头像、用户名、点赞数等核心元素
  - 点赞交互功能：支持点击点赞图标切换点赞状态，实时更新点赞计数
  - 数据刷新机制：实现上拉加载更多数据和下拉刷新最新内容的功能
  - 数据配置管理：支持 Mock 数据模拟，配置网络图片资源，确保数据可动态更新
  - 预加载优化：支持卡片预加载和图片预加载，提升滑动流畅度
  - 图片缓存：实现图片缓存策略

# 目录/文件说明

## image_mock

  #### get_image.ipynb
    根据百度图片的搜索结果，模拟卡片数据
    使用selenium，分别抓取“拍摄”、“头像”的搜索结果
        “拍摄”的搜索结果中，抓取图片链接、图片标题；“头像”的搜索结果中，抓取图片链接
        利用正则匹配，提取“拍摄”结果链接中的图片高宽
    从字库中随机生成用户名，并随机生成点赞数

    上述数据组成单条卡片内容
      {
      "ItemId": item_id,  # 记录卡片编号（自增）
      "Title": title,  # 标题
      "UserName": generate_username(),  # 用户名
      "LikeNum": like_num,  # 点赞数
      "ImageUrl": item_image_url,  # 内容图片链接
      "ImageWidth": width,  # 内容图片宽度
      "ImageHeight": height,  # 内容图片高度
      "HeadUrl": head_image_url  # 头像图片链接
      }

  #### server.py
    使用Flask搭建简易数据服务器

    http://localhost:20000/ #服务器端口，同一网段的客户端访问时根据服务器IP替换localhost
    
    访问接口：
        "/api/itemcard"  # 接口添加 count 参数（可选，默认单次返回10条数据，客户端请求时传入，如 /api/itemcard?count=5） 
        "/api/find"  # 接口添加 id 参数（必选，客户端请求时传入，如 /api/find?id=5）
        "/api/update"  # post类型，传入json数据，{ "item_id": item_card ID（必传）,"operation": 操作类型：add/sub（必传）}

    接口功能：
        "/api/itemcard"：返回特定数量的卡片数据（默认10条，且每次返回的数据不重复，且假设返回的都是客户端没有点赞浏览过的数据
        "/api/find"：根据指定的卡片id，返回该条卡片数据
        "/api/update"：指定的id卡片的数据，根据操作类型"add"或者"sub"，对该条卡片的点赞数+1或者-1

## fangdouyin
  客户端代码，使用java编写

  ### 布局与功能：
  
  #### 首页：
  <img width="410" height="911" alt="截屏2025-11-30 13 19 46" src="https://github.com/user-attachments/assets/b509987a-2f0f-4dfe-a252-0808bb2cfbcb" />
  
    瀑布流布局：抖音经验页的双列瀑布流界面，支持动态高度适配
    数据刷新机制：上拉加载更多数据和下拉刷新最新内容的功能
    点赞交互功能：支持点击点赞图标切换点赞状态，
                实时更新点赞计数，并能与将点赞数的增减同步到服务器端
                同时点赞后的卡片图片，能实时传递显示到“我”的页面
                
  #### 我：
  <img width="411" height="911" alt="截屏2025-11-30 13 23 31" src="https://github.com/user-attachments/assets/73cacda6-60a7-41e9-906c-614509779709" />

  ### 功能：
  
    #### 首页：
    瀑布流布局：抖音经验页的双列瀑布流界面，支持动态高度适配
    数据刷新机制：上拉加载更多数据和下拉刷新最新内容的功能
    点赞交互功能：支持点击点赞图标切换点赞状态，
                实时更新点赞计数，并能与将点赞数的增减同步到服务器端
                同时点赞后的卡片图片，能实时传递显示到“我”的页面

  
  

  
  




    
  
